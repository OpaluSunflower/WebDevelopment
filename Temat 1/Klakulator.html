<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <script>
        function gen() {
            const main = document.getElementById("main")
            const screen = document.createElement("input")
            screen.id = "screen"
            main.appendChild(screen)
            main.appendChild(document.createElement("br"))
            const Symbols = []
            ACL = ""
            //TWORZENIE KLAWISZY NUMERYCZNYCH
            function numericalButtonFun()
            {
                ACL.dataset.value = this.dataset.value
                document.getElementById("screen").value += this.dataset.value
            }
            function operationButtonFun()
            {
                Symbols.put(ACL)
                ACL = ""
                Symbols.put(this.dataset.value)
                document.getElementById("screen").value += this.dataset.value
            }
            function rewriteFormule(point)
            {
                const newSymbols = []
                let iterator = 0
                while (iterator != Symbols.length)
                {
                    if (iterator != point)
                    {
                        newSymbols.push(Symbols[iterator])
                    }
                    else
                    {
                        newSymbols.push(ACL)
                        iterator+=3
                    } 
                }
                return newSymbols
            }
            //KOLEJNOŚĆ WYKONYWANIA DZIAŁAŃ - MNOŻENIE I DZIELENIE
            function searchMultiDiv()
            {
                let iterator = 0
                while (iterator != Symbols.length)
                {
                    if (Symbols[iterator] == '*')
                    {
                        ACL = Symbols[iterator - 1 ] * Symbols[iterator + 1]
                        Symbols = rewriteFormule(iterator -1)
                    }
                    if (Symbols[iterator] == '/')
                    {
                        ACL = Symbols[iterator - 1 ] * Symbols[iterator + 1]
                        Symbols = rewriteFormule(iterator -1)
                    }
                }
            }
            let guzikNumer = 1
            while (guzikNumer <= 9)
            {
                let key0 = document.createElement("button")
                key0.innerText = guzikNumer
                key0.onclick = show
                key0.dataset.value = guzikNumer
                main.appendChild(key0)
                if ((guzikNumer % 3) == 0)
                {
                    main.appendChild(document.createElement("br"))
                }
                guzikNumer++
            }  
        }
        function show() {
            alert(this.dataset.value)
            document.getElementById("screen").value += this.dataset.value
            Symbols.push(this.dataset.value)
        }
    </script>
</head>

<body onload="gen()">
    <div id="main">
    </div>
</body>

</html>